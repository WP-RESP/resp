var RESPAdmin=function(){this.editors=[],this.com={}};if("undefined"!=typeof wp&&void 0!==wp.i18n)var{__:__,_x:_x,_n:_n,sprintf:sprintf}=wp.i18n;!function(r,d,$){function init(){initAdminClass(),initCom(),initSubmenuTabs(),initDashboard()}function initAdminClass(){window.respAdmin=new RESPAdmin,window.respAdmin.editors=[{selector:"#resp_theme_data",options:d.admin.editor.json},{selector:"#resp_script",options:d.admin.editor.javascript}]}function initCom(){window.respAdmin.com.ajax=function(wrap,action,callback=null,fail=null,params={},method="GET"){const nonce=wrap.attr("data-nonce");wrap.addClass("busy"),$.ajax(d.adminAjaxUrl,{type:method,data:{action:action,params:params,_wpnonce:nonce},success:function(result){result.startsWith("Error::")?console.error(result.replace("Error::","")):"function"==typeof callback&&callback(wrap,result)}}).done((function(){wrap.removeClass("busy")})).fail((function(){console.error("Unable to communicate with server."),"function"==typeof fail&&fail(wrap,result)}))}}function initSubmenuTabs(){const tabStyle={visibility:"hidden",position:"absolute","pointer-events":"none"},activeTabStyle={visibility:"visible",position:"inherit","pointer-events":"all"};$(".submenu-nav li").click((function(){const activeTab=$(this).find("a").attr("href");return $(".submenu-nav li").removeClass("active"),$(this).addClass("active"),$(".tab-content").css(tabStyle),$(activeTab).css(activeTabStyle),!1})),$(".submenu-nav li:first-child a").trigger("click")}function initDashboard(){switch(d.admin.tab){case"dashboard":setTimeout((function(){window.respAdmin.com.ajax($("#server_info_wrap"),"resp_fetch_dashboard_data",(function(wrap,result){wrap.html(result)}))}),5e3);break;case"edit":$("#config_backup_btn").click((function(event){event.preventDefault(),window.respAdmin.com.ajax($("#config_backup_wrap"),"resp_request_backup",(function(wrap,result){const r=JSON.parse(result);var link=document.createElement("a"),blob=new Blob([JSON.stringify(r.data)],{type:"text/plain"});link.download=r.title+".json",link.href=window.URL.createObjectURL(blob),link.click()}))})),window.respAdmin.editors.forEach(elem=>{r.query(elem.selector,e=>{r.hasClass(e,"hidden")||wp.codeEditor.initialize($(e),elem.options)})})}}r.ready(init)}(RESP,RESP_DATA,jQuery);
//# sourceMappingURL=resp-admin.min.js.map